import{w as De,b as Ae,m as x,s as g,j as P,z as N,G as ne,a as he,k as de,p as R,_ as Ee}from"./vendor-primeuix-utils-BuYTrIzQ.js";var Ke=Object.defineProperty,ze=Object.defineProperties,Ue=Object.getOwnPropertyDescriptors,Y=Object.getOwnPropertySymbols,ue=Object.prototype.hasOwnProperty,me=Object.prototype.propertyIsEnumerable,ie=(e,t,r)=>t in e?Ke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,b=(e,t)=>{for(var r in t||(t={}))ue.call(t,r)&&ie(e,r,t[r]);if(Y)for(var r of Y(t))me.call(t,r)&&ie(e,r,t[r]);return e},J=(e,t)=>ze(e,Ue(t)),$=(e,t)=>{var r={};for(var a in e)ue.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&Y)for(var a of Y(e))t.indexOf(a)<0&&me.call(e,a)&&(r[a]=e[a]);return r};function Xe(...e){return De(...e)}var We=Ae(),_=We,T=/{([^}]*)}/g,ce=/(\d+\s+[\+\-\*\/]\s+\d+)/g,pe=/var\([^)]+\)/g;function oe(e){return R(e)?e.replace(/[A-Z]/g,(t,r)=>r===0?t:"."+t.toLowerCase()).toLowerCase():e}function Ze(e){return P(e)&&e.hasOwnProperty("$value")&&e.hasOwnProperty("$type")?e.$value:e}function Ge(e){return e.replaceAll(/ /g,"").replace(/[^\w]/g,"-")}function ee(e="",t=""){return Ge(`${R(e,!1)&&R(t,!1)?`${e}-`:e}${t}`)}function fe(e="",t=""){return`--${ee(e,t)}`}function Ie(e=""){let t=(e.match(/{/g)||[]).length,r=(e.match(/}/g)||[]).length;return(t+r)%2!==0}function ge(e,t="",r="",a=[],n){if(R(e)){let d=e.trim();if(Ie(d))return;if(N(d,T)){let s=d.replaceAll(T,i=>{let l=i.replace(/{|}/g,"").split(".").filter(o=>!a.some(h=>N(o,h)));return`var(${fe(r,de(l.join("-")))}${g(n)?`, ${n}`:""})`});return N(s.replace(pe,"0"),ce)?`calc(${s})`:s}return d}else if(Ee(e))return e}function qe(e,t,r){R(t,!1)&&e.push(`${t}:${r};`)}function C(e,t){return e?`${e}{${t}}`:""}function ve(e,t){if(e.indexOf("dt(")===-1)return e;function r(s,i){let l=[],o=0,h="",c=null,m=0;for(;o<=s.length;){let u=s[o];if((u==='"'||u==="'"||u==="`")&&s[o-1]!=="\\"&&(c=c===u?null:u),!c&&(u==="("&&m++,u===")"&&m--,(u===","||o===s.length)&&m===0)){let p=h.trim();p.startsWith("dt(")?l.push(ve(p,i)):l.push(a(p)),h="",o++;continue}u!==void 0&&(h+=u),o++}return l}function a(s){let i=s[0];if((i==='"'||i==="'"||i==="`")&&s[s.length-1]===i)return s.slice(1,-1);let l=Number(s);return isNaN(l)?s:l}let n=[],d=[];for(let s=0;s<e.length;s++)if(e[s]==="d"&&e.slice(s,s+3)==="dt(")d.push(s),s+=2;else if(e[s]===")"&&d.length>0){let i=d.pop();d.length===0&&n.push([i,s])}if(!n.length)return e;for(let s=n.length-1;s>=0;s--){let[i,l]=n[s],o=e.slice(i+3,l),h=r(o,t),c=t(...h);e=e.slice(0,i)+c+e.slice(l+1)}return e}var Fe=e=>{var t;let r=M.getTheme(),a=te(r,e,void 0,"variable"),n=(t=a?.match(/--[\w-]+/g))==null?void 0:t[0],d=te(r,e,void 0,"value");return{name:n,variable:a,value:d}},V=(...e)=>te(M.getTheme(),...e),te=(e={},t,r,a)=>{if(t){let{variable:n,options:d}=M.defaults||{},{prefix:s,transform:i}=e?.options||d||{},l=N(t,T)?t:`{${t}}`;return a==="value"||he(a)&&i==="strict"?M.getTokenValue(t):ge(l,void 0,s,[n.excludedKeyRegex],r)}return""};function Qe(e,...t){if(e instanceof Array){let r=e.reduce((a,n,d)=>{var s;return a+n+((s=x(t[d],{dt:V}))!=null?s:"")},"");return ve(r,V)}return x(e,{dt:V})}function Be(e,t={}){let r=M.defaults.variable,{prefix:a=r.prefix,selector:n=r.selector,excludedKeyRegex:d=r.excludedKeyRegex}=t,s=[],i=[],l=[{node:e,path:a}];for(;l.length;){let{node:h,path:c}=l.pop();for(let m in h){let u=h[m],p=Ze(u),v=N(m,d)?ee(c):ee(c,de(m));if(P(p))l.push({node:p,path:v});else{let f=fe(v),y=ge(p,v,a,[d]);qe(i,f,y);let S=v;a&&S.startsWith(a+"-")&&(S=S.slice(a.length+1)),s.push(S.replace(/-/g,"."))}}}let o=i.join("");return{value:i,tokens:s,declarations:o,css:C(n,o)}}var k={regex:{rules:{class:{pattern:/^\.([a-zA-Z][\w-]*)$/,resolve(e){return{type:"class",selector:e,matched:this.pattern.test(e.trim())}}},attr:{pattern:/^\[(.*)\]$/,resolve(e){return{type:"attr",selector:`:root${e}`,matched:this.pattern.test(e.trim())}}},media:{pattern:/^@media (.*)$/,resolve(e){return{type:"media",selector:e,matched:this.pattern.test(e.trim())}}},system:{pattern:/^system$/,resolve(e){return{type:"system",selector:"@media (prefers-color-scheme: dark)",matched:this.pattern.test(e.trim())}}},custom:{resolve(e){return{type:"custom",selector:e,matched:!0}}}},resolve(e){let t=Object.keys(this.rules).filter(r=>r!=="custom").map(r=>this.rules[r]);return[e].flat().map(r=>{var a;return(a=t.map(n=>n.resolve(r)).find(n=>n.matched))!=null?a:this.rules.custom.resolve(r)})}},_toVariables(e,t){return Be(e,{prefix:t?.prefix})},getCommon({name:e="",theme:t={},params:r,set:a,defaults:n}){var d,s,i,l,o,h,c;let{preset:m,options:u}=t,p,v,f,y,S,L,D;if(g(m)&&u.transform!=="strict"){let{primitive:A,semantic:E,extend:K}=m,O=E||{},{colorScheme:z}=O,U=$(O,["colorScheme"]),W=K||{},{colorScheme:Z}=W,w=$(W,["colorScheme"]),j=z||{},{dark:G}=j,I=$(j,["dark"]),q=Z||{},{dark:B}=q,H=$(q,["dark"]),X=g(A)?this._toVariables({primitive:A},u):{},F=g(U)?this._toVariables({semantic:U},u):{},Q=g(I)?this._toVariables({light:I},u):{},re=g(G)?this._toVariables({dark:G},u):{},se=g(w)?this._toVariables({semantic:w},u):{},ae=g(H)?this._toVariables({light:H},u):{},le=g(B)?this._toVariables({dark:B},u):{},[ye,Se]=[(d=X.declarations)!=null?d:"",X.tokens],[ke,be]=[(s=F.declarations)!=null?s:"",F.tokens||[]],[$e,_e]=[(i=Q.declarations)!=null?i:"",Q.tokens||[]],[Ne,Ce]=[(l=re.declarations)!=null?l:"",re.tokens||[]],[xe,Le]=[(o=se.declarations)!=null?o:"",se.tokens||[]],[Oe,we]=[(h=ae.declarations)!=null?h:"",ae.tokens||[]],[je,Pe]=[(c=le.declarations)!=null?c:"",le.tokens||[]];p=this.transformCSS(e,ye,"light","variable",u,a,n),v=Se;let Ve=this.transformCSS(e,`${ke}${$e}`,"light","variable",u,a,n),Re=this.transformCSS(e,`${Ne}`,"dark","variable",u,a,n);f=`${Ve}${Re}`,y=[...new Set([...be,..._e,...Ce])];let Te=this.transformCSS(e,`${xe}${Oe}color-scheme:light`,"light","variable",u,a,n),Me=this.transformCSS(e,`${je}color-scheme:dark`,"dark","variable",u,a,n);S=`${Te}${Me}`,L=[...new Set([...Le,...we,...Pe])],D=x(m.css,{dt:V})}return{primitive:{css:p,tokens:v},semantic:{css:f,tokens:y},global:{css:S,tokens:L},style:D}},getPreset({name:e="",preset:t={},options:r,params:a,set:n,defaults:d,selector:s}){var i,l,o;let h,c,m;if(g(t)&&r.transform!=="strict"){let u=e.replace("-directive",""),p=t,{colorScheme:v,extend:f,css:y}=p,S=$(p,["colorScheme","extend","css"]),L=f||{},{colorScheme:D}=L,A=$(L,["colorScheme"]),E=v||{},{dark:K}=E,O=$(E,["dark"]),z=D||{},{dark:U}=z,W=$(z,["dark"]),Z=g(S)?this._toVariables({[u]:b(b({},S),A)},r):{},w=g(O)?this._toVariables({[u]:b(b({},O),W)},r):{},j=g(K)?this._toVariables({[u]:b(b({},K),U)},r):{},[G,I]=[(i=Z.declarations)!=null?i:"",Z.tokens||[]],[q,B]=[(l=w.declarations)!=null?l:"",w.tokens||[]],[H,X]=[(o=j.declarations)!=null?o:"",j.tokens||[]],F=this.transformCSS(u,`${G}${q}`,"light","variable",r,n,d,s),Q=this.transformCSS(u,H,"dark","variable",r,n,d,s);h=`${F}${Q}`,c=[...new Set([...I,...B,...X])],m=x(y,{dt:V})}return{css:h,tokens:c,style:m}},getPresetC({name:e="",theme:t={},params:r,set:a,defaults:n}){var d;let{preset:s,options:i}=t,l=(d=s?.components)==null?void 0:d[e];return this.getPreset({name:e,preset:l,options:i,params:r,set:a,defaults:n})},getPresetD({name:e="",theme:t={},params:r,set:a,defaults:n}){var d,s;let i=e.replace("-directive",""),{preset:l,options:o}=t,h=((d=l?.components)==null?void 0:d[i])||((s=l?.directives)==null?void 0:s[i]);return this.getPreset({name:i,preset:h,options:o,params:r,set:a,defaults:n})},applyDarkColorScheme(e){return!(e.darkModeSelector==="none"||e.darkModeSelector===!1)},getColorSchemeOption(e,t){var r;return this.applyDarkColorScheme(e)?this.regex.resolve(e.darkModeSelector===!0?t.options.darkModeSelector:(r=e.darkModeSelector)!=null?r:t.options.darkModeSelector):[]},getLayerOrder(e,t={},r,a){let{cssLayer:n}=t;return n?`@layer ${x(n.order||n.name||"primeui",r)}`:""},getCommonStyleSheet({name:e="",theme:t={},params:r,props:a={},set:n,defaults:d}){let s=this.getCommon({name:e,theme:t,params:r,set:n,defaults:d}),i=Object.entries(a).reduce((l,[o,h])=>l.push(`${o}="${h}"`)&&l,[]).join(" ");return Object.entries(s||{}).reduce((l,[o,h])=>{if(P(h)&&Object.hasOwn(h,"css")){let c=ne(h.css),m=`${o}-variables`;l.push(`<style type="text/css" data-primevue-style-id="${m}" ${i}>${c}</style>`)}return l},[]).join("")},getStyleSheet({name:e="",theme:t={},params:r,props:a={},set:n,defaults:d}){var s;let i={name:e,theme:t,params:r,set:n,defaults:d},l=(s=e.includes("-directive")?this.getPresetD(i):this.getPresetC(i))==null?void 0:s.css,o=Object.entries(a).reduce((h,[c,m])=>h.push(`${c}="${m}"`)&&h,[]).join(" ");return l?`<style type="text/css" data-primevue-style-id="${e}-variables" ${o}>${ne(l)}</style>`:""},createTokens(e={},t,r="",a="",n={}){let d=function(i,l={},o=[]){if(o.includes(this.path))return console.warn(`Circular reference detected at ${this.path}`),{colorScheme:i,path:this.path,paths:l,value:void 0};o.push(this.path),l.name=this.path,l.binding||(l.binding={});let h=this.value;if(typeof this.value=="string"&&T.test(this.value)){let c=this.value.trim().replace(T,m=>{var u;let p=m.slice(1,-1),v=this.tokens[p];if(!v)return console.warn(`Token not found for path: ${p}`),"__UNRESOLVED__";let f=v.computed(i,l,o);return Array.isArray(f)&&f.length===2?`light-dark(${f[0].value},${f[1].value})`:(u=f?.value)!=null?u:"__UNRESOLVED__"});h=ce.test(c.replace(pe,"0"))?`calc(${c})`:c}return he(l.binding)&&delete l.binding,o.pop(),{colorScheme:i,path:this.path,paths:l,value:h.includes("__UNRESOLVED__")?void 0:h}},s=(i,l,o)=>{Object.entries(i).forEach(([h,c])=>{let m=N(h,t.variable.excludedKeyRegex)?l:l?`${l}.${oe(h)}`:oe(h),u=o?`${o}.${h}`:h;P(c)?s(c,m,u):(n[m]||(n[m]={paths:[],computed:(p,v={},f=[])=>{if(n[m].paths.length===1)return n[m].paths[0].computed(n[m].paths[0].scheme,v.binding,f);if(p&&p!=="none")for(let y=0;y<n[m].paths.length;y++){let S=n[m].paths[y];if(S.scheme===p)return S.computed(p,v.binding,f)}return n[m].paths.map(y=>y.computed(y.scheme,v[y.scheme],f))}}),n[m].paths.push({path:u,value:c,scheme:u.includes("colorScheme.light")?"light":u.includes("colorScheme.dark")?"dark":"none",computed:d,tokens:n}))})};return s(e,r,a),n},getTokenValue(e,t,r){var a;let n=(i=>i.split(".").filter(l=>!N(l.toLowerCase(),r.variable.excludedKeyRegex)).join("."))(t),d=t.includes("colorScheme.light")?"light":t.includes("colorScheme.dark")?"dark":void 0,s=[(a=e[n])==null?void 0:a.computed(d)].flat().filter(i=>i);return s.length===1?s[0].value:s.reduce((i={},l)=>{let o=l,{colorScheme:h}=o,c=$(o,["colorScheme"]);return i[h]=c,i},void 0)},getSelectorRule(e,t,r,a){return r==="class"||r==="attr"?C(g(t)?`${e}${t},${e} ${t}`:e,a):C(e,C(t??":root",a))},transformCSS(e,t,r,a,n={},d,s,i){if(g(t)){let{cssLayer:l}=n;if(a!=="style"){let o=this.getColorSchemeOption(n,s);t=r==="dark"?o.reduce((h,{type:c,selector:m})=>(g(m)&&(h+=m.includes("[CSS]")?m.replace("[CSS]",t):this.getSelectorRule(m,i,c,t)),h),""):C(i??":root",t)}if(l){let o={name:"primeui"};P(l)&&(o.name=x(l.name,{name:e,type:a})),g(o.name)&&(t=C(`@layer ${o.name}`,t),d?.layerNames(o.name))}return t}return""}},M={defaults:{variable:{prefix:"p",selector:":root",excludedKeyRegex:/^(primitive|semantic|components|directives|variables|colorscheme|light|dark|common|root|states|extend|css)$/gi},options:{prefix:"p",darkModeSelector:"system",cssLayer:!1}},_theme:void 0,_layerNames:new Set,_loadedStyleNames:new Set,_loadingStyles:new Set,_tokens:{},update(e={}){let{theme:t}=e;t&&(this._theme=J(b({},t),{options:b(b({},this.defaults.options),t.options)}),this._tokens=k.createTokens(this.preset,this.defaults),this.clearLoadedStyleNames())},get theme(){return this._theme},get preset(){var e;return((e=this.theme)==null?void 0:e.preset)||{}},get options(){var e;return((e=this.theme)==null?void 0:e.options)||{}},get tokens(){return this._tokens},getTheme(){return this.theme},setTheme(e){this.update({theme:e}),_.emit("theme:change",e)},getPreset(){return this.preset},setPreset(e){this._theme=J(b({},this.theme),{preset:e}),this._tokens=k.createTokens(e,this.defaults),this.clearLoadedStyleNames(),_.emit("preset:change",e),_.emit("theme:change",this.theme)},getOptions(){return this.options},setOptions(e){this._theme=J(b({},this.theme),{options:e}),this.clearLoadedStyleNames(),_.emit("options:change",e),_.emit("theme:change",this.theme)},getLayerNames(){return[...this._layerNames]},setLayerNames(e){this._layerNames.add(e)},getLoadedStyleNames(){return this._loadedStyleNames},isStyleNameLoaded(e){return this._loadedStyleNames.has(e)},setLoadedStyleName(e){this._loadedStyleNames.add(e)},deleteLoadedStyleName(e){this._loadedStyleNames.delete(e)},clearLoadedStyleNames(){this._loadedStyleNames.clear()},getTokenValue(e){return k.getTokenValue(this.tokens,e,this.defaults)},getCommon(e="",t){return k.getCommon({name:e,theme:this.theme,params:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getComponent(e="",t){let r={name:e,theme:this.theme,params:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return k.getPresetC(r)},getDirective(e="",t){let r={name:e,theme:this.theme,params:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return k.getPresetD(r)},getCustomPreset(e="",t,r,a){let n={name:e,preset:t,options:this.options,selector:r,params:a,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return k.getPreset(n)},getLayerOrderCSS(e=""){return k.getLayerOrder(e,this.options,{names:this.getLayerNames()},this.defaults)},transformCSS(e="",t,r="style",a){return k.transformCSS(e,t,a,r,this.options,{layerNames:this.setLayerNames.bind(this)},this.defaults)},getCommonStyleSheet(e="",t,r={}){return k.getCommonStyleSheet({name:e,theme:this.theme,params:t,props:r,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getStyleSheet(e,t,r={}){return k.getStyleSheet({name:e,theme:this.theme,params:t,props:r,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},onStyleMounted(e){this._loadingStyles.add(e)},onStyleUpdated(e){this._loadingStyles.add(e)},onStyleLoaded(e,{name:t}){this._loadingStyles.size&&(this._loadingStyles.delete(t),_.emit(`theme:${t}:load`,e),!this._loadingStyles.size&&_.emit("theme:load"))}};export{V as E,_ as N,M as S,Qe as a,Xe as k,Fe as r};
